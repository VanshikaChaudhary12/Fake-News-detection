<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Fake News Detector - Advanced Analysis</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üõ°Ô∏è</text></svg>">
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="nav-logo">
                <i class="fas fa-shield-halved"></i>
                <span>FakeNews AI</span>
            </a>
            <div class="nav-menu" id="navMenu">
                <a href="/" class="nav-link active">Home</a>
                <a href="/about" class="nav-link">About</a>
                <a href="/how-it-works" class="nav-link">How It Works</a>
                <a href="/contact" class="nav-link">Contact</a>
                <a href="/documentation" class="nav-link">API Docs</a>
            </div>
            <button class="nav-toggle" id="navToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle">
        <i class="fas fa-moon"></i>
    </button>

    <!-- Main Container -->
    <div class="container">
        <!-- Hero Header -->
        <header class="hero-header">
            <div class="logo-container">
                <div class="logo-shield">
                    <i class="fas fa-shield-halved"></i>
                </div>
                <div class="logo-text">
                    <h1>Fake News Detector</h1>
                    <p>AI-Powered Truth Verification System</p>
                </div>
            </div>
            
            <div class="stats-dashboard">
                <div class="stat-card">
                    <i class="fas fa-chart-line"></i>
                    <div class="stat-info">
                        <span class="stat-value" id="totalAnalyzed">0</span>
                        <span class="stat-label">Analyzed</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-bullseye"></i>
                    <div class="stat-info">
                        <span class="stat-value">94%</span>
                        <span class="stat-label">Accuracy</span>
                    </div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-bolt"></i>
                    <div class="stat-info">
                        <span class="stat-value">&lt;1s</span>
                        <span class="stat-label">Speed</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content Grid -->
        <div class="content-grid">
            <!-- Left Column - Input -->
            <div class="input-panel glass-card">
                <div class="panel-header">
                    <i class="fas fa-newspaper"></i>
                    <h2>Analyze News Content</h2>
                </div>
                
                <form id="newsForm">
                    <div class="input-wrapper">
                        <textarea 
                            id="newsText" 
                            placeholder="Paste news article, social media post, or any text content here for AI-powered authenticity analysis...&#10;&#10;üí° Tip: Longer text provides more accurate results"
                            maxlength="5000"
                        ></textarea>
                        <div class="input-footer">
                            <span class="char-counter">
                                <i class="fas fa-keyboard"></i>
                                <span id="charCount">0</span>/5000
                            </span>
                            <button type="button" class="btn-icon" id="clearBtn" title="Clear text">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button type="submit" class="btn-primary" id="analyzeBtn" disabled>
                            <i class="fas fa-magnifying-glass-chart"></i>
                            <span>Analyze Content</span>
                            <div class="btn-glow"></div>
                        </button>
                    </div>

                    <div class="quick-actions">
                        <span class="quick-label"><i class="fas fa-flask"></i> Quick Test:</span>
                        <button type="button" class="btn-sample real" onclick="loadSample(0)">
                            <i class="fas fa-check"></i> Real News
                        </button>
                        <button type="button" class="btn-sample fake" onclick="loadSample(1)">
                            <i class="fas fa-exclamation"></i> Fake News
                        </button>
                    </div>
                </form>

                <!-- URL Analysis Feature -->
                <div class="url-analysis">
                    <div class="divider"><span>OR</span></div>
                    <div class="url-input-group">
                        <input type="url" id="urlInput" placeholder="Enter news article URL">
                        <button class="btn-url" onclick="analyzeURL()">
                            <i class="fas fa-link"></i> Fetch & Analyze
                        </button>
                    </div>
                </div>
            </div>

            <!-- Right Column - Results -->
            <div class="results-panel glass-card" id="resultsPanel" style="display: none;">
                <div class="panel-header">
                    <i class="fas fa-chart-pie"></i>
                    <h2>Analysis Results</h2>
                </div>

                <div class="result-display" id="resultDisplay">
                    <div class="result-badge" id="resultBadge">
                        <div class="badge-icon" id="badgeIcon">
                            <i class="fas fa-question"></i>
                        </div>
                        <div class="badge-text">
                            <h3 id="resultTitle">Analyzing...</h3>
                            <p id="resultSubtitle">Please wait</p>
                        </div>
                    </div>

                    <div class="confidence-meter" id="confidenceMeter" style="display: none;">
                        <div class="meter-header">
                            <span>Confidence Score</span>
                            <span class="meter-value" id="confidenceValue">0%</span>
                        </div>
                        <div class="meter-bar">
                            <div class="meter-fill" id="meterFill"></div>
                            <div class="meter-glow"></div>
                        </div>
                    </div>

                    <div class="result-metrics" id="resultMetrics" style="display: none;">
                        <div class="metric-item">
                            <i class="fas fa-microchip"></i>
                            <div class="metric-content">
                                <span class="metric-label">Algorithm</span>
                                <span class="metric-value">Logistic Regression</span>
                            </div>
                        </div>
                        <div class="metric-item">
                            <i class="fas fa-layer-group"></i>
                            <div class="metric-content">
                                <span class="metric-label">Features</span>
                                <span class="metric-value">TF-IDF (10K)</span>
                            </div>
                        </div>
                        <div class="metric-item">
                            <i class="fas fa-clock"></i>
                            <div class="metric-content">
                                <span class="metric-label">Response Time</span>
                                <span class="metric-value" id="responseTime">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="result-actions" id="resultActions" style="display: none;">
                        <button class="btn-action" onclick="copyResult()">
                            <i class="fas fa-copy"></i> Copy
                        </button>
                        <button class="btn-action" onclick="shareResult()">
                            <i class="fas fa-share-nodes"></i> Share
                        </button>
                        <button class="btn-action" onclick="showDetails()">
                            <i class="fas fa-info-circle"></i> Details
                        </button>
                        <button class="btn-action" onclick="downloadReport()">
                            <i class="fas fa-download"></i> Report
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Section -->
        <div class="history-section glass-card" id="historySection" style="display: none;">
            <div class="section-header">
                <div class="header-left">
                    <i class="fas fa-clock-rotate-left"></i>
                    <h2>Recent Analysis</h2>
                </div>
                <button class="btn-clear" onclick="clearHistory()">
                    <i class="fas fa-trash-can"></i> Clear All
                </button>
            </div>
            <div class="history-grid" id="historyGrid"></div>
        </div>

        <!-- Features Showcase -->
        <div class="features-showcase">
            <h2 class="section-title">
                <i class="fas fa-sparkles"></i> Powered by Advanced AI
            </h2>
            <div class="features-grid">
                <div class="feature-box">
                    <div class="feature-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>Deep Learning</h3>
                    <p>Enhanced ML model with 10K+ features</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">
                        <i class="fas fa-language"></i>
                    </div>
                    <h3>NLP Analysis</h3>
                    <p>Advanced text processing & lemmatization</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">
                        <i class="fas fa-gauge-high"></i>
                    </div>
                    <h3>Real-time</h3>
                    <p>Instant results in under 1 second</p>
                </div>
                <div class="feature-box">
                    <div class="feature-icon">
                        <i class="fas fa-shield-check"></i>
                    </div>
                    <h3>High Accuracy</h3>
                    <p>94%+ detection accuracy rate</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>¬© 2024 AI Fake News Detection System | B.Tech CSE Final Year Project</p>
            <div class="tech-badges">
                <span class="badge">Python</span>
                <span class="badge">Flask</span>
                <span class="badge">Scikit-learn</span>
                <span class="badge">NLP</span>
                <span class="badge">ML</span>
            </div>
        </footer>
    </div>

    <!-- Loading Modal -->
    <div class="loading-modal" id="loadingModal">
        <div class="loading-content">
            <div class="loading-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <i class="fas fa-shield-halved spinner-icon"></i>
            </div>
            <h3 class="loading-title">Analyzing Content</h3>
            <div class="loading-progress">
                <div class="progress-step active" id="step1">
                    <i class="fas fa-check"></i> Preprocessing
                </div>
                <div class="progress-step" id="step2">
                    <i class="fas fa-cog fa-spin"></i> Feature Extraction
                </div>
                <div class="progress-step" id="step3">
                    <i class="fas fa-brain"></i> AI Classification
                </div>
            </div>
        </div>
    </div>

    <!-- Detail Modal -->
    <div class="detail-modal" id="detailModal">
        <div class="modal-overlay" onclick="closeModal()"></div>
        <div class="modal-container">
            <div class="modal-header">
                <h2><i class="fas fa-chart-simple"></i> Detailed Analysis Report</h2>
                <button class="modal-close" onclick="closeModal()">
                    <i class="fas fa-xmark"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
